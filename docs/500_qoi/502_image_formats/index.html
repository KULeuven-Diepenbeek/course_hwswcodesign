<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.123.7">
    <meta name="description" content="">
<meta name="author" content="map[email:&lt;i&gt;fname&lt;/i&gt;.&lt;i&gt;lname&lt;/i&gt;A T&lt;i&gt;kuleuven.be&lt;/i&gt; name:Jo Vliegen]">

    <link rel="icon" href="../../images/favicon.png" type="image/png">

    <title>502 Image formats :: HW/SW codesign</title>

    
    <link href="../../css/nucleus.css?1739605499" rel="stylesheet">
    <link href="../../css/fontawesome-all.min.css?1739605499" rel="stylesheet">
    <link href="../../css/hybrid.css?1739605499" rel="stylesheet">
    <link href="../../css/featherlight.min.css?1739605499" rel="stylesheet">
    <link href="../../css/perfect-scrollbar.min.css?1739605499" rel="stylesheet">
    <link href="../../css/auto-complete.css?1739605499" rel="stylesheet">
    <link href="../../css/atom-one-dark-reasonable.css?1739605499" rel="stylesheet">
    <link href="../../css/theme.css?1739605499" rel="stylesheet">
    <link href="../../css/tabs.css?1739605499" rel="stylesheet">
    <link href="../../css/hugo-theme.css?1739605499" rel="stylesheet">
    
    <link href="../../css/theme-kul.css?1739605499" rel="stylesheet">
    
    

    <script src="../../js/jquery-3.3.1.min.js?1739605499"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<script src=../../js/exercises.js></script> 
  </head>
  <body class="" data-url="../../500_qoi/502_image_formats/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="https://www.kuleuven.be/kuleuven/" target="_blank">
  <img src="../../img/style/kul.png" alt="KU Leuven" /><br/>
</a>
<a href="https://www.uhasselt.be/" target="_blank">
  <img src="../../img/style/uhasselt.svg" alt="UHasselt" id="uhlogo" />
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../js/lunr.min.js?1739605499"></script>
<script type="text/javascript" src="../../js/auto-complete.js?1739605499"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/kuleuven-diepenbeek.github.io\/course_hwswcodesign\/";
    
</script>
<script type="text/javascript" src="../../js/search.js?1739605499"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/10_compiling/" title="1 Setting the playing field" class="dd-item
        
        
        
        ">
      <a href="../../10_compiling/">
          1 Setting the playing field
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/10_compiling/11_programming/" title="1.1 - Programming the RISC-V" class="dd-item ">
        <a href="../../10_compiling/11_programming/">
        <i class='fas fa-book'></i> 1.1 - Programming the RISC-V
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/10_compiling/12_compiling_bare_metal/" title="1.2 - Compiling Bare Metal" class="dd-item ">
        <a href="../../10_compiling/12_compiling_bare_metal/">
        <i class='fas fa-book'></i> 1.2 - Compiling Bare Metal
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/10_compiling/13_linking_bare_metal/" title="1.3 - Linking Bare Metal" class="dd-item ">
        <a href="../../10_compiling/13_linking_bare_metal/">
        <i class='fas fa-book'></i> 1.3 - Linking Bare Metal
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/10_compiling/14_simulation/" title="1.4 - Simulation" class="dd-item ">
        <a href="../../10_compiling/14_simulation/">
        <i class='fas fa-book'></i> 1.4 - Simulation
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/10_compiling/15_exercises/" title="1.5 - Exercises" class="dd-item ">
        <a href="../../10_compiling/15_exercises/">
        <i class='fas fa-pen'></i> 1.5 - Exercises
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/20_hw/" title="2 Making it work on hardware" class="dd-item
        
        
        
        ">
      <a href="../../20_hw/">
          2 Making it work on hardware
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/20_hw/21_current_situation/" title="2.1 - The current situation" class="dd-item ">
        <a href="../../20_hw/21_current_situation/">
        <i class='fas fa-book'></i> 2.1 - The current situation
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/20_hw/22_wrapping/" title="2.2 - Wrapping it up" class="dd-item ">
        <a href="../../20_hw/22_wrapping/">
        <i class='fas fa-book'></i> 2.2 - Wrapping it up
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/20_hw/23_onemore/" title="2.3 - One more thing ..." class="dd-item ">
        <a href="../../20_hw/23_onemore/">
        <i class='fas fa-book'></i> 2.3 - One more thing ...
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/20_hw/24_ooc/" title="2.4 - Go as fast as you can" class="dd-item ">
        <a href="../../20_hw/24_ooc/">
        <i class='fas fa-book'></i> 2.4 - Go as fast as you can
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/20_hw/25_exercises/" title="2.5 - Exercises" class="dd-item ">
        <a href="../../20_hw/25_exercises/">
        <i class='fas fa-pen'></i> 2.5 - Exercises
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://studiegidswww.uhasselt.be/opleidingsonderdeel.aspx?a=2023&amp;i=3468&amp;n=4&amp;t=04"><i class='fa fa-university'></i> ECTS Sheet</a>
              </li>
          
              <li>
                  <a class="padding" href="https://p.cygnus.cc.kuleuven.be/webapps/blackboard/execute/announcement?method=search&amp;context=course&amp;course_id=_1176295_1&amp;handle=cp_announcements&amp;mode=cpview"><i class='fa fa-university'></i> Toledo</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../../'>HWSW codesign</a> > <a href=''>5 QOI</a> > 502 Image formats
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#qoi">QOI</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              502 Image formats
            </h1>
          

        


<p>In general, to store a <em>file</em> on a computer, some form for <strong>file format</strong> is required. Examples of fileformats are: .pdf, .docx, and .html. A file format defines an encoding protocol on how to store the data.</p>
<p>As just seen, storing images in full will require a lot of storage. Of course, there are file formats for images as well. The most well known image file formats (or image formats) are .jpeg, .png, and .gif. If no encoding is used (or not much), this type of file format is referred to as <strong>a raw image</strong>.</p>
<p>Image encoding formats &hellip; this is where it gets insane. Some formats are <strong>small</strong>, others are <strong>high-quality</strong>. Some formats drop certain data (<strong>lossy</strong>), others keep everything (<strong>lossless</strong>). Some formats are used by camera&rsquo;s that generate images, others are generated by artists. Some formats are intended for <strong>the web</strong>, others are specially for <strong>printing</strong> &hellip; you get the point &#x1f609;</p>
<p><img src="../../img/500/Image_formats_by_scope.png" alt="Image formats"></p>
<center>Image by Jon Sneyers - Own work, CC BY-SA 4.0, https://commons.wikimedia.org/w/index.php?curid=126783849</center>
<h2 id="qoi">QOI</h2>
<p>For the project, the QOI (Quite OK Image Format) will be used. More info can be found <a href="https://qoiformat.org/" target="_blank">here</a>. QOI&rsquo;s specification can be found <a href="https://qoiformat.org/qoi-specification.pdf" target="_blank">here</a> and was released on January 2022, by <strong>Dominic Szablewski</strong>, who claims:</p>
<blockquote>
<p>&ldquo;I have no idea what i&rsquo;m doing. I&rsquo;m not a compression guy.&rdquo;</p>
</blockquote>
<div class="multiHcolumn">
<div class="column">
  <p><img src="../../img/500/qoi.png" alt="Image formats"></p>
</div>    
<div class="column">
  <p><strong>QOI</strong> starts by noting down a <strong>header</strong> which consists of a handfull of parameters. Next, there is an indetermined number of <strong>chunks</strong>. And finally, there is fixed 8-byt <strong>end marker</strong>.</p>
<p>The chunks in between the header and end marker can be of these 5 types:</p>
<ol>
<li><strong>RUN chunk</strong>: a run of repeating pixels</li>
<li><strong>INDEX chunk</strong>: an index to a recently seen pixel</li>
<li><strong>DIFF chunk</strong>: difference to the previous pixel</li>
<li><strong>LUMA chunk</strong>: difference to the previous pixel&rsquo;s green value</li>
<li><strong>RGB chunk</strong>: full pixel value</li>
<li><strong>RGBA chunk</strong>: full pixel value with alpha</li>
</ol>
<p>The order in which the chunks are enumerated, is also the order of precedence.</p>
<p>For the indexed chunk, a running array is kept of 64 pixels. If the current pixel is present in this array, the position in the array is stored. QOI uses a quick way for looking up the pixel by means a hash table. A custom, very simple hash function is designed for this purpose:</p>
<blockquote>
<p>H(r, g, b, a) = (3xr + 5xg +7xb + 11xa) mod 64</p>
</blockquote>
<p>If the array has the same pixel value on the position as pointed to by the hash, the INDEX chunk is used.</p>
</div>    
</div>    

<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
		
			<a class="nav nav-next" href="../../10_compiling/" title="1 Setting the playing field" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../js/clipboard.min.js?1739605499"></script>
    <script src="../../js/perfect-scrollbar.min.js?1739605499"></script>
    <script src="../../js/perfect-scrollbar.jquery.min.js?1739605499"></script>
    <script src="../../js/jquery.sticky.js?1739605499"></script>
    <script src="../../js/featherlight.min.js?1739605499"></script>
    <script src="../../js/highlight.pack.js?1739605499"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../../js/modernizr.custom-3.6.0.js?1739605499"></script>
    <script src="../../js/learn.js?1739605499"></script>
    <script src="../../js/hugo-learn.js?1739605499"></script>
    
        
            <script src="../../mermaid/mermaid.js?1739605499"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

