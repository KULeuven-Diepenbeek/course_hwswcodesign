<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.123.7">
    <meta name="description" content="">
<meta name="author" content="map[email:&lt;i&gt;fname&lt;/i&gt;.&lt;i&gt;lname&lt;/i&gt;A T&lt;i&gt;kuleuven.be&lt;/i&gt; name:Jo Vliegen]">

    <link rel="icon" href="../../images/favicon.png" type="image/png">

    <title>1.1 - Programming the RISC-V :: HW/SW codesign</title>

    
    <link href="../../css/nucleus.css?1740048191" rel="stylesheet">
    <link href="../../css/fontawesome-all.min.css?1740048191" rel="stylesheet">
    <link href="../../css/hybrid.css?1740048191" rel="stylesheet">
    <link href="../../css/featherlight.min.css?1740048191" rel="stylesheet">
    <link href="../../css/perfect-scrollbar.min.css?1740048191" rel="stylesheet">
    <link href="../../css/auto-complete.css?1740048191" rel="stylesheet">
    <link href="../../css/atom-one-dark-reasonable.css?1740048191" rel="stylesheet">
    <link href="../../css/theme.css?1740048191" rel="stylesheet">
    <link href="../../css/tabs.css?1740048191" rel="stylesheet">
    <link href="../../css/hugo-theme.css?1740048191" rel="stylesheet">
    
    <link href="../../css/theme-kul.css?1740048191" rel="stylesheet">
    
    

    <script src="../../js/jquery-3.3.1.min.js?1740048191"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<script src=../../js/exercises.js></script> 
  </head>
  <body class="" data-url="../../10_compiling/11_programming/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="https://www.kuleuven.be/kuleuven/" target="_blank">
  <img src="../../img/style/kul.png" alt="KU Leuven" /><br/>
</a>
<a href="https://www.uhasselt.be/" target="_blank">
  <img src="../../img/style/uhasselt.svg" alt="UHasselt" id="uhlogo" />
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../js/lunr.min.js?1740048191"></script>
<script type="text/javascript" src="../../js/auto-complete.js?1740048191"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/kuleuven-diepenbeek.github.io\/course_hwswcodesign\/";
    
</script>
<script type="text/javascript" src="../../js/search.js?1740048191"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/10_compiling/" title="1 Setting the playing field" class="dd-item
        parent
        
        
        ">
      <a href="../../10_compiling/">
          1 Setting the playing field
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/10_compiling/11_programming/" title="1.1 - Programming the RISC-V" class="dd-item active">
        <a href="../../10_compiling/11_programming/">
        <i class='fas fa-book'></i> 1.1 - Programming the RISC-V
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/10_compiling/12_compiling_bare_metal/" title="1.2 - Compiling Bare Metal" class="dd-item ">
        <a href="../../10_compiling/12_compiling_bare_metal/">
        <i class='fas fa-book'></i> 1.2 - Compiling Bare Metal
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/10_compiling/13_linking_bare_metal/" title="1.3 - Linking Bare Metal" class="dd-item ">
        <a href="../../10_compiling/13_linking_bare_metal/">
        <i class='fas fa-book'></i> 1.3 - Linking Bare Metal
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/10_compiling/14_simulation/" title="1.4 - Simulation" class="dd-item ">
        <a href="../../10_compiling/14_simulation/">
        <i class='fas fa-book'></i> 1.4 - Simulation
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/10_compiling/15_exercises/" title="1.5 - Exercises" class="dd-item ">
        <a href="../../10_compiling/15_exercises/">
        <i class='fas fa-pen'></i> 1.5 - Exercises
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/20_hw/" title="2 Making it work on hardware" class="dd-item
        
        
        
        ">
      <a href="../../20_hw/">
          2 Making it work on hardware
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/20_hw/21_current_situation/" title="2.1 - The current situation" class="dd-item ">
        <a href="../../20_hw/21_current_situation/">
        <i class='fas fa-book'></i> 2.1 - The current situation
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/20_hw/22_wrapping/" title="2.2 - Wrapping it up" class="dd-item ">
        <a href="../../20_hw/22_wrapping/">
        <i class='fas fa-book'></i> 2.2 - Wrapping it up
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/20_hw/23_onemore/" title="2.3 - One more thing ..." class="dd-item ">
        <a href="../../20_hw/23_onemore/">
        <i class='fas fa-book'></i> 2.3 - One more thing ...
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/20_hw/24_go_fast/" title="2.4 - Go as fast as you can" class="dd-item ">
        <a href="../../20_hw/24_go_fast/">
        <i class='fas fa-book'></i> 2.4 - Go as fast as you can
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/20_hw/25_exercises/" title="2.5 - Exercises" class="dd-item ">
        <a href="../../20_hw/25_exercises/">
        <i class='fas fa-pen'></i> 2.5 - Exercises
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://studiegidswww.uhasselt.be/opleidingsonderdeel.aspx?a=2023&amp;i=3468&amp;n=4&amp;t=04"><i class='fa fa-university'></i> ECTS Sheet</a>
              </li>
          
              <li>
                  <a class="padding" href="https://p.cygnus.cc.kuleuven.be/webapps/blackboard/execute/announcement?method=search&amp;context=course&amp;course_id=_1176295_1&amp;handle=cp_announcements&amp;mode=cpview"><i class='fa fa-university'></i> Toledo</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../../'>HWSW codesign</a> > <a href='../../10_compiling/'>1 Setting the playing field</a> > 1.1 - Programming the RISC-V
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#lets-c-another-level-of-abstraction">Let&rsquo;s <strong>C</strong> another level of abstraction</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              1.1 - Programming the RISC-V
            </h1>
          

        


<p>In the third year of the Bachelor program, you have done the course unit <strong>Computer architecture</strong> (3435). In this course you made an implementation for a RISC-V processor. This course (of which you are currently reading the course material) starts with one of the earlier implementations you made: the <strong>RV32I</strong> implementation. The processor runs a <em>program</em> and the ins-and-outs of this will be the handover point between both courses.The implementation of the ISA is capable of executing instructions. These instructions are written in assembly. As you have implemented the processor itself, you will probably be familiar with the concept.</p>
<div class="multiHcolumn">
<div class="column">
  <h2 id="assembly">Assembly</h2>
<p>An example is shown here that calculates the first <em>n</em> numbers of the Fibonacci row. Before setting of to calculate the famous sequence, all the registers in the <strong>register file</strong> are initialised on 0x0.</p>
<p>Next, some initialisations are done. These instructions ensure the temporary registers x5, x6, x29, x30, and x31 are set.</p>
<p>Subquently a loop is started (as long as the content of x29 is not zero) which adds x5 and x6 into x7; then adds x6 and x7 into x5; and thirdly adds x7 and x5 into x6.
Before the loop is re-evaluated, the value in x29 is shifted right 1 position.</p>
<p>Running this program in a simulator will give you a waveform, similar to the one that is shown below.</p>
<h3 id="-vs-machine-code">&hellip; vs Machine code</h3>
<p>Maybe the assembly code that is shown already adds a level of abstraction to what you used earlier. Let&rsquo;s take an example <strong>add x7, x5, x6</strong>. For a human (like yourself, I&rsquo;d take it &#x1f609;) this is somewhat understandable: <em>Add x5 to x6 and put the sum in x7</em>. Unfortunately, this is not what can be asked from the RISC-V implementation. Some <em>encoding</em> is required:</p>
<ul>
<li>add is an R-type instruction, with opcode <strong>0110011</strong></li>
<li>add is an R-type instruction, with funct3 <strong>000</strong></li>
<li>the sum is stored in x7 so rd is <strong>00111</strong></li>
<li>the first term is stored in x5, so rs1 is <strong>00101</strong></li>
<li>the second term is stored in x6, so rs2 is <strong>00110</strong></li>
<li>add is an R-type instruction, with funct7 <strong>0000000</strong></li>
</ul>
<p>If all these bits are concatenated, the 32-bit binary string is formed <em>0b0000000 00110 00101 000 00111 0110011</em>. Writing it hexadecimally, this becomes: <strong>0x006283b3</strong>. Many tools exist that help us automate this, however (e.g. <a href="https://luplab.gitlab.io/rvcodecjs/#q=007302b3&amp;abi=true&amp;isa=AUTO" target="_blank">instruction encoder/decoders</a>).</p>
</div>    
<div class="column">
  <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-S" data-lang="S"><span style="display:flex;"><span>.global start
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.section .init, <span style="color:#e6db74">&#34;ax&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>start<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>  addi x1, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x2, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x3, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x4, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x5, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x6, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x7, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x8, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x9, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x10, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x11, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x12, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x13, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x14, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x15, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x16, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x17, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x18, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x19, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x20, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x21, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x22, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x23, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x24, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x25, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x26, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x27, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x28, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x29, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x30, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  addi x31, x0, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">/*</span> set stack pointer <span style="color:#f92672">*/</span>
</span></span><span style="display:flex;"><span>  lui x2, %<span style="color:#a6e22e">hi</span>(<span style="color:#ae81ff">4</span><span style="color:#f92672">*</span><span style="color:#ae81ff">1024</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  j fibonacci
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>fibonacci<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    lui x31, <span style="color:#ae81ff">0x80000</span>
</span></span><span style="display:flex;"><span>    addi x30, x0, <span style="color:#ae81ff">44</span>
</span></span><span style="display:flex;"><span>    addi x29, x0, <span style="color:#ae81ff">255</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    addi x5, x0, <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    addi x6, x0, <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>_loop_start_1<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    beq x29, x0, done
</span></span><span style="display:flex;"><span>    add x7, x5, x6
</span></span><span style="display:flex;"><span>    add x5, x6, x7
</span></span><span style="display:flex;"><span>    add x6, x7, x5
</span></span><span style="display:flex;"><span>    srli x29, x29, <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    j _loop_start_1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>done<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    j done
</span></span></code></pre></div>
</div>    
<div class="column">
  <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-S" data-lang="S"><span style="display:flex;"><span><span style="color:#ae81ff">00000093</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000113</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000193</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000213</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000293</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000313</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000393</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000413</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000493</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000513</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000593</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000613</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000693</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000713</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000793</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000813</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000893</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000913</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000993</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000</span>a13
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000</span>a93
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000</span>b13
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000</span>b93
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000</span>c13
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000</span>c93
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000</span>d13
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000</span>d93
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000e13</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000e93</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000</span>f13
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000</span>f93
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0040006</span>f
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">80000</span>fb7
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">02</span>c00f13
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>ff00e93
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00100293</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00100313</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">020e8863</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">006283</span>b3
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">007</span>fa023
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">01</span>efa023
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">007302</span>b3
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">005</span>fa023
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">01</span>efa023
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00538333</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">006</span>fa023
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">01</span>efa023
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">001</span>ede93
</span></span><span style="display:flex;"><span>fd5ff06f
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0000006</span>f
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00001941</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">73697200</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">01007663</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0000000</span>f
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">33767205</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">70326932</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000031</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000000</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00000000</span>
</span></span></code></pre></div>
</div>    
</div>    
<p><img src="../../img/10/sim_fib.png" alt="fib"></p>
<p>Adding layers of abstraction helps us (the human programmer) to write code more easily. Although assemly can barely be classified as <em>readable</em> it is still an improvement over machine code. The <strong>ABI (Application Binary Interface)</strong> fixes (some) naming conventions. Registers x5, x6 and x7 are temporary registers and can be labeled t0, t1, t2, respectively. Although it is not much, this again aids us humans to more easily understand the software: <strong>add t2, t0, t1</strong> vs <strong>0x006283b3</strong>.</p>

<div class="notices note" ><p>Note the <em>endless</em> loop at the end. What is it for?</p>
</div>

<h2 id="lets-c-another-level-of-abstraction">Let&rsquo;s <strong>C</strong> another level of abstraction</h2>
<p>Another level of abstraction can make programmer-live even more manageable. In this course you will be programming in a higher-level programming language: <strong>C</strong>.</p>
<div class="multiHcolumn">
<div class="column">
  <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;print.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">void</span>) {
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> x, y, z;
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	x <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>	y <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">print_hex</span>(x, <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">print_hex</span>(y, <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">2</span>;i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>		z <span style="color:#f92672">=</span> x <span style="color:#f92672">+</span> y;
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">print_hex</span>(z,<span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>		x <span style="color:#f92672">=</span> y <span style="color:#f92672">+</span> z;
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">print_hex</span>(x,<span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>		y <span style="color:#f92672">=</span> z <span style="color:#f92672">+</span> x;
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">print_hex</span>(y,<span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">while</span>(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>
</div>    
<div class="column">
  <p>The example shown here, is written in C and is much more human-friendly. Four variables are declared and two of them are initialised. After printing these values, a loop is executed in which the Fibonacci sequence is calculated and printed. All printed values are 2-digit hexadecimal and they are seperated with a dash (&rsquo;-&rsquo;).</p>
<p>The output of this program can be seen here:
<img src="../../img/10/sim_c.png" alt="fib"></p>
</div>    
</div>    
<p>Before your implementation of the RISC-V core is capable of running this very simple code, there is still some work left. The remainder of this chapter will cover <em>&lsquo;all you need to know&rsquo;</em>.</p>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="../../10_compiling/" title="1 Setting the playing field"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../10_compiling/12_compiling_bare_metal/" title="1.2 - Compiling Bare Metal" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../js/clipboard.min.js?1740048191"></script>
    <script src="../../js/perfect-scrollbar.min.js?1740048191"></script>
    <script src="../../js/perfect-scrollbar.jquery.min.js?1740048191"></script>
    <script src="../../js/jquery.sticky.js?1740048191"></script>
    <script src="../../js/featherlight.min.js?1740048191"></script>
    <script src="../../js/highlight.pack.js?1740048191"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../../js/modernizr.custom-3.6.0.js?1740048191"></script>
    <script src="../../js/learn.js?1740048191"></script>
    <script src="../../js/hugo-learn.js?1740048191"></script>
    
        
            <script src="../../mermaid/mermaid.js?1740048191"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

